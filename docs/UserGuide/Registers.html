
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="John T. O’Donnell" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="Sigma16 system documentation" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sigma16 User Guide — Registers</title>
<link rel="stylesheet" type="text/css" href="lwarp.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
    subequations: "0",
    section: "",
    loader: {
        load: ['[tex]/tagformat', '[tex]/textmacros'],
    },
    startup: {
        ready() {
            //      These would be replaced by import commands if you wanted to make
            //      a proper extension.
            const Configuration = MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;


            //      Insert the replacement string into the TeX string, and check
            //      that there haven't been too many maxro substitutions (prevents
            //      infinite loops).
            const useArgument = (parser, text) => {
                parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                parser.i = 0;
                if (++parser.macroCount > parser.configuration.options.maxMacros) {
                    throw new TexError('MaxMacroSub1',
                    'MathJax maximum macro substitution count exceeded; ' +
                    'is there a recursive macro call?');
                }
            }


            //      Create the command map for:
            //          \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
            new CommandMap('Lwarp-macros', {
                ifstar: 'IfstarFunction',
                ifnextchar: 'IfnextcharFunction',
                ifblank: 'IfblankFunction',
                ifstrequal: 'IfstrequalFunction',
                gsubstitute: 'GsubstituteFunction',
                seteqnumber: 'SeteqnumberFunction'
            }, {
                //      This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                    const resultstar = parser.GetArgument(name);
                    const resultnostar = parser.GetArgument(name);
                    const star = parser.GetStar();                      // true if there is a *
                    useArgument(parser, star ? resultstar : resultnostar);
                },


                //      This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                    let whichchar = parser.GetArgument(name);
                    if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                        // $ syntax highlighting
                        whichchar = String.fromCodePoint(parseInt(whichchar));
                    }
                    const resultnextchar = parser.GetArgument(name);
                    const resultnotnextchar = parser.GetArgument(name);
                    const gotchar = (parser.GetNext() === whichchar);
                    useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                },


                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                    const blankarg = parser.GetArgument(name);
                    const resultblank = parser.GetArgument(name);
                    const resultnotblank = parser.GetArgument(name);
                    const isblank = (blankarg.trim() == "");
                    useArgument(parser, isblank ? resultblank : resultnotblank);
                },


                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                    const strequalfirst = parser.GetArgument(name);
                    const strequalsecond = parser.GetArgument(name);
                    const resultequal = parser.GetArgument(name);
                    const resultnotequal = parser.GetArgument(name);
                    const isequal = (strequalfirst == strequalsecond);
                    useArgument(parser, isequal ? resultequal : resultnotequal);
                },


                // This function implements a gsub macro.
                GsubstituteFunction(parser, name) {
                    const gsubfirst = parser.GetArgument(name);
                    const gsubsecond = parser.GetArgument(name);
                    const gsubthird = parser.GetArgument(name);
                    let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
                    useArgument(parser, gsubresult);
                },


                //      This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                        //   Get the macro parameters
                        const star = parser.GetStar();                    // true if there is a *
                        const optBrackets = parser.GetBrackets(name);     // contents of optional brackets
                        const newsubequations = parser.GetArgument(name);    // the subequations argument
                        const neweqsection = parser.GetArgument(name);    // the eq section argument
                        const neweqnumber = parser.GetArgument(name);     // the eq number argument
                        MathJax.config.subequations=newsubequations ;     // a string with boolean meaning
                        MathJax.config.section=neweqsection ;             // a string with numeric meaning
                        parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                }


            });


            //      Create the Lwarp-macros package
            Configuration.create('Lwarp-macros', {
                handler: {macro: ['Lwarp-macros']}
            });


            MathJax.startup.defaultReady();


            // For forward references:
            MathJax.startup.input[0].preFilters.add(({math}) => {
                if (math.inputData.recompile){
                        MathJax.config.subequations = math.inputData.recompile.subequations;
                        MathJax.config.section = math.inputData.recompile.section;
                }
            });
            MathJax.startup.input[0].postFilters.add(({math}) => {
                if (math.inputData.recompile){
                        math.inputData.recompile.subequations = MathJax.config.subequations;
                        math.inputData.recompile.section = MathJax.config.section;
                }
            });


                // For \left, \right with unicode-math:
                const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
                const {Symbol} = MathJax._.input.tex.Symbol;
                const {MapHandler} = MathJax._.input.tex.MapHandler;
                const delimiter = MapHandler.getMap('delimiter');
                delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
                delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
                delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
                delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
                delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
                delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
                delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
                delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
                delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
                delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
                delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
                delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
                delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
                delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
                delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
                delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
                delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
                delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
                delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
                delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
                delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
                delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
                delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
                delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
                delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
                delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
                delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
                delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
                delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
                delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
                delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
                delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
                delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
                delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
                delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
                delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
                delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
                delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
                delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
        }        // ready
    },           // startup


    tex: {
        packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
        tags: "ams",
                tagformat: {
                        number: function (n) {
                             if(MathJax.config.subequations==0)
                                 return(MathJax.config.section + n);
                             else
                                 return(MathJax.config.section + String.fromCharCode(96+n));
                        },
                },
    }
}
</script>


<script
        id="MathJax-script"
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>

</head>
<body>


<a id="Sigma16UserGuide-autopage-140"></a>
<nav class="topnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>


<div class="bodyandsidetoc">
<div class="sidetoccontainer">


<nav class="sidetoc">


<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Sigma16 User Guide</span>
</p>

<p>
Contents
</p>
</div>


<div class="sidetoccontents">

<p>
<a href="index.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="Core-architecture-tutorials.html#autosec-7" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Core architecture tutorials</a>
</p>


<p>
<a href="Core-architecture-tutorials.html#autosec-8" class="tocsubsection" >
<span class="sectionnumber">2.1</span>&#x2003;Hello, world!</a>
</p>


<p>
<a href="A-quick-tour.html#autosec-10" class="tocsubsection" >
<span class="sectionnumber">2.2</span>&#x2003;A quick tour</a>
</p>


<p>
<a href="Registers-constants-arithmetic.html#autosec-12" class="tocsubsection" >
<span class="sectionnumber">2.3</span>&#x2003;Registers, constants, and arithmetic</a>
</p>


<p>
<a href="Keeping-variables-in-memory.html#autosec-27" class="tocsubsection" >
<span class="sectionnumber">2.4</span>&#x2003;Keeping variables in memory</a>
</p>


<p>
<a href="Assembly-language.html#autosec-32" class="tocsubsection" >
<span class="sectionnumber">2.5</span>&#x2003;Assembly language</a>
</p>


<p>
<a href="Editing-files.html#autosec-41" class="tocsubsection" >
<span class="sectionnumber">2.6</span>&#x2003;Editing files</a>
</p>


<p>
<a href="Jumps-conditionals.html#autosec-43" class="tocsubsection" >
<span class="sectionnumber">2.7</span>&#x2003;Jumps and conditionals</a>
</p>


<p>
<a href="Loops.html#autosec-58" class="tocsubsection" >
<span class="sectionnumber">2.8</span>&#x2003;Loops</a>
</p>


<p>
<a href="Machine-language.html#autosec-65" class="tocsubsection" >
<span class="sectionnumber">2.9</span>&#x2003;Machine language</a>
</p>


<p>
<a href="Pseudoinstructions.html#autosec-72" class="tocsubsection" >
<span class="sectionnumber">2.10</span>&#x2003;Pseudoinstructions</a>
</p>


<p>
<a href="A-strange-program.html#autosec-76" class="tocsubsection" >
<span class="sectionnumber">2.11</span>&#x2003;A strange program</a>
</p>


<p>
<a href="Breakpoints.html#autosec-79" class="tocsubsection" >
<span class="sectionnumber">2.12</span>&#x2003;Breakpoints</a>
</p>


<p>
<a href="Summary-core-instruction-formats.html#autosec-86" class="tocsubsection" >
<span class="sectionnumber">2.13</span>&#x2003;Summary of core instruction formats</a>
</p>


<p>
<a href="Summary-core-instructions.html#autosec-91" class="tocsubsection" >
<span class="sectionnumber">2.14</span>&#x2003;Summary of core instructions</a>
</p>


<p>
<a href="Standard-architecture-tutorials.html#autosec-93" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;Standard architecture tutorials</a>
</p>


<p>
<a href="Standard-architecture-tutorials.html#autosec-94" class="tocsubsection" >
<span class="sectionnumber">3.1</span>&#x2003;Logic</a>
</p>


<p>
<a href="Shifting.html#autosec-97" class="tocsubsection" >
<span class="sectionnumber">3.2</span>&#x2003;Shifting</a>
</p>


<p>
<a href="Bit-fields.html#autosec-101" class="tocsubsection" >
<span class="sectionnumber">3.3</span>&#x2003;Bit fields</a>
</p>


<p>
<a href="Saving-registers-procedure-call.html#autosec-107" class="tocsubsection" >
<span class="sectionnumber">3.4</span>&#x2003;Saving registers for procedure call</a>
</p>


<p>
<a href="Branching-pc-relative-address.html#autosec-111" class="tocsubsection" >
<span class="sectionnumber">3.5</span>&#x2003;Branching to pc-relative address</a>
</p>


<p>
<a href="Stack-instructions.html#autosec-113" class="tocsubsection" >
<span class="sectionnumber">3.6</span>&#x2003;Stack instructions</a>
</p>


<p>
<a href="Arithmetic-on-natural-numbers.html#autosec-115" class="tocsubsection" >
<span class="sectionnumber">3.7</span>&#x2003;Arithmetic on natural numbers</a>
</p>


<p>
<a href="Modules-linking.html#autosec-117" class="tocsubsection" >
<span class="sectionnumber">3.8</span>&#x2003;Modules and linking</a>
</p>


<p>
<a href="System-control-registers.html#autosec-119" class="tocsubsection" >
<span class="sectionnumber">3.9</span>&#x2003;System control registers</a>
</p>


<p>
<a href="Interrupts.html#autosec-121" class="tocsubsection" >
<span class="sectionnumber">3.10</span>&#x2003;Interrupts</a>
</p>


<p>
<a href="The-Sigma16-architecture.html#autosec-123" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;The Sigma16 architecture</a>
</p>


<p>
<a href="The-Sigma16-architecture.html#autosec-124" class="tocsubsection" >
<span class="sectionnumber">4.1</span>&#x2003;Implementations</a>
</p>


<p>
<a href="Subsystems.html#autosec-126" class="tocsubsection" >
<span class="sectionnumber">4.2</span>&#x2003;Subsystems</a>
</p>


<p>
<a href="Words.html#autosec-128" class="tocsubsection" >
<span class="sectionnumber">4.3</span>&#x2003;Words</a>
</p>


<p>
<a href="Memory.html#autosec-139" class="tocsubsection" >
<span class="sectionnumber">4.4</span>&#x2003;Memory</a>
</p>


<p>
<a href="Registers.html#autosec-141" class="tocsubsection" >
<span class="sectionnumber">4.5</span>&#x2003;Registers</a>
</p>


<p>
<a href="Instruction-representation.html#autosec-158" class="tocsubsection" >
<span class="sectionnumber">4.6</span>&#x2003;Instruction representation</a>
</p>


<p>
<a href="Instruction-set.html#autosec-182" class="tocsection" >
<span class="sectionnumber">5</span>&#x2003;Instruction set</a>
</p>


<p>
<a href="Instruction-set.html#autosec-183" class="tocsubsection" >
<span class="sectionnumber">5.1</span>&#x2003;Accessing memory</a>
</p>


<p>
<a href="Arithmetic.html#autosec-213" class="tocsubsection" >
<span class="sectionnumber">5.2</span>&#x2003;Arithmetic</a>
</p>


<p>
<a href="Jumps.html#autosec-237" class="tocsubsection" >
<span class="sectionnumber">5.3</span>&#x2003;Jumps</a>
</p>


<p>
<a href="Branches.html#autosec-246" class="tocsubsection" >
<span class="sectionnumber">5.4</span>&#x2003;Branches</a>
</p>


<p>
<a href="Logic.html#autosec-258" class="tocsubsection" >
<span class="sectionnumber">5.5</span>&#x2003;Logic</a>
</p>


<p>
<a href="Bit-manipulation.html#autosec-298" class="tocsubsection" >
<span class="sectionnumber">5.6</span>&#x2003;Bit manipulation</a>
</p>


<p>
<a href="System-control.html#autosec-317" class="tocsubsection" >
<span class="sectionnumber">5.7</span>&#x2003;System control</a>
</p>


<p>
<a href="Summary-instruction-set.html#autosec-326" class="tocsection" >
<span class="sectionnumber">6</span>&#x2003;Summary of instruction set</a>
</p>


<p>
<a href="Assembly-language-2.html#autosec-341" class="tocsection" >
<span class="sectionnumber">7</span>&#x2003;Assembly language 2</a>
</p>


<p>
<a href="Assembly-language-2.html#autosec-344" class="tocsubsection" >
<span class="sectionnumber">7.1</span>&#x2003;Programs, modules, and files</a>
</p>


<p>
<a href="Fixed-relocatable-values.html#autosec-357" class="tocsubsection" >
<span class="sectionnumber">7.2</span>&#x2003;Fixed and relocatable values</a>
</p>


<p>
<a href="Code-generators.html#autosec-366" class="tocsubsection" >
<span class="sectionnumber">7.3</span>&#x2003;Code generators</a>
</p>


<p>
<a href="Directives.html#autosec-381" class="tocsubsection" >
<span class="sectionnumber">7.4</span>&#x2003;Directives</a>
</p>


<p>
<a href="Object-code-linker.html#autosec-404" class="tocsection" >
<span class="sectionnumber">8</span>&#x2003;Object code and linker</a>
</p>


<p>
<a href="Object-code-linker.html#autosec-405" class="tocsubsection" >
<span class="sectionnumber">8.1</span>&#x2003;Object language</a>
</p>


<p>
<a href="Module-metadata.html#autosec-425" class="tocsubsection" >
<span class="sectionnumber">8.2</span>&#x2003;Module metadata</a>
</p>


<p>
<a href="Linker.html#autosec-428" class="tocsubsection" >
<span class="sectionnumber">8.3</span>&#x2003;Linker</a>
</p>


<p>
<a href="Booter.html#autosec-430" class="tocsubsection" >
<span class="sectionnumber">8.4</span>&#x2003;Booter</a>
</p>


<p>
<a href="Programming.html#autosec-433" class="tocsection" >
<span class="sectionnumber">9</span>&#x2003;Programming</a>
</p>


<p>
<a href="Programming.html#autosec-434" class="tocsubsection" >
<span class="sectionnumber">9.1</span>&#x2003;Structure of a program</a>
</p>


<p>
<a href="How-perform-commmon-tasks.html#autosec-437" class="tocsubsection" >
<span class="sectionnumber">9.2</span>&#x2003;How to perform commmon tasks</a>
</p>


<p>
<a href="Compilation.html#autosec-444" class="tocsubsection" >
<span class="sectionnumber">9.3</span>&#x2003;Compilation</a>
</p>


<p>
<a href="Errors-avoiding-finding-fixing.html#autosec-449" class="tocsubsection" >
<span class="sectionnumber">9.4</span>&#x2003;Errors: avoiding, finding, and fixing</a>
</p>


<p>
<a href="Installation.html#autosec-462" class="tocsection" >
<span class="sectionnumber">10</span>&#x2003;Installation</a>
</p>


<p>
<a href="Installation.html#autosec-463" class="tocsubsection" >
<span class="sectionnumber">10.1</span>&#x2003;Command line tools</a>
</p>


<p>
<a href="About-Sigma16.html#autosec-476" class="tocsection" >
<span class="sectionnumber">11</span>&#x2003;About Sigma16</a>
</p>


<p>
<a href="About-Sigma16.html#autosec-477" class="tocsubsection" >
<span class="sectionnumber">11.1</span>&#x2003;Copyright and license</a>
</p>


<p>
<a href="In-case-problems.html#autosec-479" class="tocsubsection" >
<span class="sectionnumber">11.2</span>&#x2003;In case of problems</a>
</p>


<p>
<a href="Release-notes.html#autosec-481" class="tocsubsection" >
<span class="sectionnumber">11.3</span>&#x2003;Release notes</a>
</p>


<p>
<a href="GPL3-license.html#autosec-495" class="tocsubsection" >
<span class="sectionnumber">11.4</span>&#x2003;GPL3 license</a>
</p>


</div>

</nav>

</div>


<main class="bodycontainer">


<section class="textbody">

<h1>Sigma16 User Guide</h1>

<!--MathJax customizations:-->


<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

</div>

<p>
<!--
...... subsection Registers ......
-->
<h5 id="autosec-141"><span class="sectionnumber">4.5&#x2003;</span>Registers</h5>
<a id="Sigma16UserGuide-autopage-141"></a>
<a id="Sigma16UserGuide-autofile-36"></a> <a id="sec:org9f356e7"></a>
<!--
...... subsubsection Register file ......
-->
<h6 id="autosec-142"><span class="sectionnumber">4.5.1&#x2003;</span>Register file</h6>
<a id="Sigma16UserGuide-autopage-142"></a>


<a id="sec:org469f2aa"></a>

<p>
The <b>register file</b> is a set of 16 general registers that hold a 16 bit word. A register is referenced by a 4-bit binary number. In assembly language, we use the notations R0, R1, R2, &#x2026;, R9, R10, R11, R12, R13, R14, R15 to refer to the
registers. The state of the register file can be written as a table showing the value of each register:
</p>
<div class="center">
<table>

<tr style="display:none"><th>.</th></tr>

<tr>
<td class="tdl">Register</td>
<td class="tdl">Contents</td>
</tr>

<tr class="hline">
<td class="tdl">R0</td>
<td class="tdl">0000</td>
</tr>

<tr>
<td class="tdl">R1</td>
<td class="tdl">fffe</td>
</tr>

<tr>
<td class="tdl">R2</td>
<td class="tdl">13c4</td>
</tr>

<tr>
<td class="tdl">&#x2026;</td>
<td class="tdl">&#x2026;</td>
</tr>

<tr>
<td class="tdl">R14</td>
<td class="tdl">03c8</td>
</tr>

<tr>
<td class="tdl">R15</td>
<td class="tdl">0020</td>
</tr>

</table>

</div>

<p>
Sigma16 is a load/store style architecture; that is, it does not combine memory accesses with arithmetic. All calculations are carried out in the register file, and explicit load and store instructions must be used to copy data between the memory and
the register file.
</p>

<p>
There are some programming conventions that use certain registers for special purposes. The hardware does not enforce, or even know about, these conventions, and you do not have to follow the conventions in programming. However, it is necessary
to obey the conventions in order to use the standard software libraries in your program. See the section on Programming for a discussion of these standard usage conventions.
</p>

<ul style="list-style-type:none">

<li>
<p>
1. R0 contains the constant 0 <a id="sec:orgbbdfd55"></a>
</p>
<p>
One of the registers, R0, has a special property: it always contains the constant 0. It is legal to perform an instruction that attempts to load some other value into R0, but the register will still contain 0 after executing such an instruction. Such an
instruction will simply have no lasting effect.
</p>
</li>
<li>

<p>
2. R15 is the condition code register <a id="sec:orgde00b11"></a>
</p>
<p>
Several instructions produce status information: the result of a comparison, whether there was an overflow, etc. This information is automatically loaded into R15, which is the condition code register. The description of each instruction states
whether R15 is modified, and what goes into it.
</p>
<p>
The bits in R15 are indexed from bit 0 (rightmost, or least significant) to bit 15 (the lefttmost, or most significant). The condition code bits that have specific meanings are called <b>flags</b>.
</p>
<ul style="list-style-type:none">

<li>
<p>
• Each bit position holds a Boolean value, either False or True, represented by 0 or 1 respectively.
</p>


</li>
<li>


<p>
• Each flag gives the status of a relation or event. If the flag is True (1) the relation holds or the event has occurred. If the flag is False (0) the relation does not hold, or the event has not occurred.
</p>
</li>
</ul>
<p>
One way to use flags in the condition code is to control conditional jumps:
</p>
<ul style="list-style-type:none">

<li>
<p>
• Use jumpc0 to jump if the Boolean is False
</p>


</li>
<li>


<p>
• Use jumpc1 to jump if the Boolean is True
</p>
</li>
</ul>
<p>
Another way to use condition code flags is to save them as Boolean variables and perform logic operations on them. This is done using the extract and logicr instructions.
</p>
<p>
There are separate flags for integers (represented as two’s complement) and natural numbers (represented as binary). This is necessary because the relation between two words sometimes depends on the type of the data. For example, consider the
word ffff (all 1 bits). On its own, ffff is just a word of bits and has no inherent meaning.
</p>
<ul style="list-style-type:none">

<li>
<p>
• If ffff is interpreted as a natural number (i.e. binary), it is positive and has the value 65,535, and ffff > 0000
</p>


</li>
<li>


<p>
• If ffff is interpreted as an integer (i.e. two’s complement), then it is negative and has the value -1, and ffff < 0000.
</p>
</li>
</ul>
<p>
Each flag has a short 1-character name to enable them to be displayed compactly. A naming convention is that flags for integers (two’s complement) have lower case letters, while flags for natural numbers (binary) have upper case letters. For example:
</p>
<ul style="list-style-type:none">

<li>
<p>
• l means < for integers
</p>


</li>
<li>


<p>
• L means > for integers
</p>
</li>
</ul>
<p>
However, equality is the same regardless of type. If two words consist of exactly the same bits, then they have the same value as integers, natural numbers, characters, addresses, and for any other possible type as well. Therefore there is only one flag
for equality, and its symbol is =.
</p>
<p>
The following table lists all the condition code flags.
</p>
<ul style="list-style-type:none">

<li>
<p>
• index: Each flag has an index which gives its bit position in the condition code. Bits are numbered from right to left, starting with 0.
</p>


</li>
<li>


<p>
• meaning: Description using English or mathematical notation
</p>


</li>
<li>


<p>
• symbol: Character that is showin in the processor display when the flag is 1.
</p>


</li>
<li>


<p>
• name: Alphabetical name used as a variable name for the flag.
</p>
</li>
</ul>
<p>
Table: Condition code flags
</p>
<div class="center">
<table>
<tr style="display:none"><th>.</th></tr>

<tr>
<td class="tdr">bit index</td>
<td class="tdl">Relation</td>
<td class="tdl">Symbol</td>
</tr>

<tr class="hline">
<td class="tdr">0</td>
<td class="tdl">> Int</td>
<td class="tdl">g</td>
</tr>

<tr>
<td class="tdr">1</td>
<td class="tdl">> Nat</td>
<td class="tdl">G</td>
</tr>

<tr>
<td class="tdr">2</td>
<td class="tdl">=</td>
<td class="tdl">=</td>
</tr>

<tr>
<td class="tdr">3</td>
<td class="tdl">< Nat</td>
<td class="tdl">L</td>
</tr>

<tr>
<td class="tdr">4</td>
<td class="tdl">< Int</td>
<td class="tdl"><</td>
</tr>

<tr>
<td class="tdr">5</td>
<td class="tdl">Int overflow</td>
<td class="tdl">v</td>
</tr>

<tr>
<td class="tdr">6</td>
<td class="tdl">Nat overflow</td>
<td class="tdl">V</td>
</tr>

<tr>
<td class="tdr">7</td>
<td class="tdl">Carry</td>
<td class="tdl">C</td>
</tr>

<tr>
<td class="tdr">8</td>
<td class="tdl">Stack overflow</td>
<td class="tdl">S</td>
</tr>

<tr>
<td class="tdr">9</td>
<td class="tdl">Stack underflow</td>
<td class="tdl">s</td>
</tr>

<tr>
<td class="tdr">10</td>
<td class="tdl">logicc function result</td>
<td class="tdl">f</td>
</tr>

</table>
</div>
<p>
There is an exception for division by zero, but no corresponding flag in the condition code. The reason is that the div instruction places the remainder in R15, so the condition code isn’t available to represent division by 0. You can use an interrupt to
detect division by 0, and you can test explicity for division by 0 by using jumpz specifying the register containing the divisor before execuing the div instruction.
</p>
</li>
</ul>

</section>

</main>

</div>


<nav class="botnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>

</body>
</html>
